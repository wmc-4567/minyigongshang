<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>茗艺工商 三角号估价表</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{padding:15px;font-family:微软雅黑;font-size:16px;background:#ffffff;}
        .box{max-width:550px;margin:0 auto;padding:20px;border:1px solid #ddd;border-radius:6px;}
        h3{text-align:center;margin-bottom:20px;color:#333;}
        .select-box{width:100%;margin:10px 0;position:relative;}
        .select-title{padding:9px;border:1px solid #ccc;border-radius:4px;cursor:pointer;background:#fff;}
        .select-title:hover{border-color:#999;}
        .select-list{display:none;position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #ccc;border-top:none;border-radius:0 0 4px 4px;max-height:200px;overflow:auto;z-index:999;}
        .select-list.show{display:block;}
        .select-item{padding:9px;cursor:pointer;}
        .select-item:hover{background:#f5f5f5;}
        button{width:100%;padding:10px;margin-top:15px;background:#007bff;color:#fff;border:none;border-radius:4px;font-size:17px;cursor:pointer;}
        button:hover{background:#0069d9;}
        .result{text-align:center;margin-top:20px;font-size:19px;font-weight:bold;color:#dc3545;padding:8px;border:1px solid #eee;border-radius:4px;}
        input[type="hidden"]{display:none;}
    </style>
</head>
<body>
    <div class="box">
        <h3>三角号估价计算表</h3>

        <!-- 刀皮选项 -->
        <div class="select-box">
            <div class="select-title">请选择刀皮</div>
            <div class="select-list">
                <div class="select-item" data-val="0">请选择</div>
                <div class="select-item" data-val="5">刀皮 - 普通款 (5元)</div>
                <div class="select-item" data-val="8">刀皮 - 加厚款 (8元)</div>
                <div class="select-item" data-val="10">刀皮 - 精品款 (10元)</div>
            </div>
            <input type="hidden" name="dp" value="0">
        </div>

        <!-- 三角号选项 -->
        <div class="select-box">
            <div class="select-title">请选择三角号</div>
            <div class="select-list">
                <div class="select-item" data-val="0">请选择</div>
                <div class="select-item" data-val="3">三角号 - 小号 (3元)</div>
                <div class="select-item" data-val="5">三角号 - 中号 (5元)</div>
                <div class="select-item" data-val="7">三角号 - 大号 (7元)</div>
                <div class="select-item" data-val="9">三角号 - 加大号 (9元)</div>
            </div>
            <input type="hidden" name="sjh" value="0">
        </div>

        <!-- 钢号选项 -->
        <div class="select-box">
            <div class="select-title">请选择钢号</div>
            <div class="select-list">
                <div class="select-item" data-val="0">请选择</div>
                <div class="select-item" data-val="2">钢号 - 普通钢 (2元)</div>
                <div class="select-item" data-val="4">钢号 - 不锈钢 (4元)</div>
                <div class="select-item" data-val="6">钢号 - 精品钢 (6元)</div>
            </div>
            <input type="hidden" name="gh" value="0">
        </div>

        <!-- 套口选项 -->
        <div class="select-box">
            <div class="select-title">请选择套口</div>
            <div class="select-list">
                <div class="select-item" data-val="0">请选择</div>
                <div class="select-item" data-val="1">套口 - 普通款 (1元)</div>
                <div class="select-item" data-val="2">套口 - 加厚款 (2元)</div>
                <div class="select-item" data-val="3">套口 - 精品款 (3元)</div>
            </div>
            <input type="hidden" name="tk" value="0">
        </div>

        <!-- 计算按钮 -->
        <button onclick="getTotal()">点击计算总价</button>

        <!-- 总价展示 -->
        <div class="result" id="total">总价：0.00 元</div>
    </div>

<script>
// 下拉展开/收起 + 点击空白处关闭
document.addEventListener('click', function(e) {
    let list = document.querySelectorAll('.select-list');
    list.forEach(item => item.classList.remove('show'));
    let target = e.target.closest('.select-title');
    if(target){
        e.stopPropagation();
        let parent = target.closest('.select-box');
        let currList = parent.querySelector('.select-list');
        currList.classList.toggle('show');
    }
});

// 选择下拉选项赋值
document.querySelectorAll('.select-item').forEach(item => {
    item.onclick = function(){
        let val = this.getAttribute('data-val');
        let text = this.innerText;
        let parent = this.closest('.select-box');
        parent.querySelector('.select-title').innerText = text;
        parent.querySelector('input').value = val;
        parent.querySelector('.select-list').classList.remove('show');
    }
});

// 计算总价核心函数
function getTotal(){
    let dp = Number(document.querySelector('input[name=dp]').value);
    let sjh = Number(document.querySelector('input[name=sjh]').value);
    let gh = Number(document.querySelector('input[name=gh]').value);
    let tk = Number(document.querySelector('input[name=tk]').value);
    let sum = dp + sjh + gh + tk;
    document.getElementById('total').innerHTML = `总价：${sum.toFixed(2)} 元`;
}
</script>
</body>
</html>
